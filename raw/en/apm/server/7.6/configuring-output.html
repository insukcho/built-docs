<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Configure the output | APM Server Reference [7.6] | Elastic</title>
<link rel="home" href="index.html" title="APM Server Reference [7.6]"/>
<link rel="up" href="configuring-howto-apm-server.html" title="Configuring APM Server"/>
<link rel="prev" href="configuration-process.html" title="General configuration options"/>
<link rel="next" href="elasticsearch-output.html" title="Configure the Elasticsearch output"/>
<meta name="DC.type" content="Learn/Docs/APM Server/Reference/7.6"/>
<meta name="DC.subject" content="APM"/>
<meta name="DC.identifier" content="7.6"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">APM Server Reference [7.6]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="configuring-howto-apm-server.html">Configuring APM Server</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="configuration-process.html">« General configuration options</a>
</span>
<span class="next">
<a href="elasticsearch-output.html">Configure the Elasticsearch output »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="configuring-output"></a>Configure the output<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-server/edit/7.6/docs/copied-from-beats/docs/outputconfig.asciidoc">edit</a></h2>
</div></div></div>
<p>You configure APM Server to write to a specific output by setting options
in the Outputs section of the <code class="literal">apm-server.yml</code> config file. Only a single
output may be defined.</p>
<p>The following topics describe how to configure each supported output. If you&#8217;ve
secured the Elastic Stack, also read <a class="xref" href="securing-apm-server.html" title="Securing APM Server">Securing APM Server</a> for more about
security-related configuration options.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="elasticsearch-output.html" title="Configure the Elasticsearch output">Elasticsearch</a>
</li>
<li class="listitem">
<a class="xref" href="logstash-output.html" title="Configure the Logstash output">Logstash</a>
</li>
<li class="listitem">
<a class="xref" href="kafka-output.html" title="Configure the Kafka output">Kafka</a>
</li>
<li class="listitem">
<a class="xref" href="redis-output.html" title="Configure the Redis output">Redis</a>
</li>
<li class="listitem">
<a class="xref" href="file-output.html" title="Configure the File output">File</a>
</li>
<li class="listitem">
<a class="xref" href="console-output.html" title="Configure the Console output">Console</a>
</li>
<li class="listitem">
<a class="xref" href="configure-cloud-id.html" title="Configure the output for the Elastic Cloud">Elastic Cloud</a>
</li>
</ul>
</div>
<h3><a id="sourcemap-output"></a>Sourcemaps<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-server/edit/7.6/docs/configuring-output-after.asciidoc">edit</a></h3>
<p>Sourcemaps can be uploaded through all outputs but must eventually be stored in Elasticsearch.
When using outputs other than Elasticsearch, <code class="literal">source_mapping.elasticsearch</code> must be set for source maps to be applied.
Be sure to update <code class="literal">source_mapping.index_pattern</code> if sourcemaps are stored in the non-default location.
See <a class="xref" href="configuration-rum.html#config-sourcemapping-elasticsearch" title="source_mapping.elasticsearch"><code class="literal">source_mapping.elasticsearch</code></a> for more details.</p>
<h3><a id="libbeat-configuration-fields"></a><code class="literal">fields</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-server/edit/7.6/docs/configuring-output-after.asciidoc">edit</a></h3>
<p>Fields are optional tags that can be added to the documents that APM Server outputs.
They are defined at the top-level in your configuration file, and will apply to any configured output.
Fields can be scalar values, arrays, dictionaries, or any nested combination of these.
By default, the fields that you specify here will be grouped under a <code class="literal">fields</code> sub-dictionary in the output document.</p>
<p>Example using the Elasticsearch output:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">fields: {project: "myproject", instance-id: "574734885120952459"}
#-------------------------- Elasticsearch output --------------------------
output.elasticsearch:
  hosts: ["localhost:9200"]</pre>
</div>
<p>To store the custom fields as top-level fields, set the <code class="literal">fields_under_root</code> option to true.
This is not recommended as when new fields are added to APM documents backward compatibility cannot be ensured.</p>








</div>
<div class="navfooter">
<span class="prev">
<a href="configuration-process.html">« General configuration options</a>
</span>
<span class="next">
<a href="elasticsearch-output.html">Configure the Elasticsearch output »</a>
</span>
</div>
</div>
</body>
</html>
