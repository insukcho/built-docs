<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Filter list of Agents by tags | Fleet and Elastic Agent Guide [master] | Elastic</title>
<link rel="home" href="index.html" title="Fleet and Elastic Agent Guide [master]"/>
<link rel="up" href="manage-agents.html" title="Elastic Agents"/>
<link rel="prev" href="upgrade-elastic-agent.html" title="Upgrade Fleet-managed Elastic Agents"/>
<link rel="next" href="view-elastic-agent-status.html" title="View Elastic Agent status"/>
<meta name="DC.type" content="Learn/Docs/Fleet/Guide/Elastic Agent/master"/>
<meta name="DC.subject" content="Fleet and Elastic Agent"/>
<meta name="DC.identifier" content="master"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Fleet and Elastic Agent Guide [master]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="manage-agents-in-fleet.html">Centrally manage Elastic Agents in Fleet</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="manage-agents.html">Elastic Agents</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="upgrade-elastic-agent.html">« Upgrade Fleet-managed Elastic Agents</a>
</span>
<span class="next">
<a href="view-elastic-agent-status.html">View Elastic Agent status »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="filter-agent-list-by-tags"></a>Filter list of Agents by tags<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/ingest-management/fleet/filter-agent-list-by-tags.asciidoc">edit</a></h3>
</div></div></div>
<p>When you install or enroll Elastic Agent in Fleet, you can specify a comma-separated
list of tags to apply to the agent, then use the tags to filter the Agents list
shown in Fleet.</p>
<p>Tags are useful for capturing information that is specific to the installation
environment, such machine type, location, operating system, environment, and
so on. Tags can be any arbitrary information that will help you filter and
perform operations on Elastic Agents with the same attributes.</p>
<p>To filter the Agents list by tag, in Kibana, go to <span class="strong strong"><strong>Fleet &gt; Agents</strong></span> and click
<span class="strong strong"><strong>Tags</strong></span>. Select the tags to filter on. The tags are also available in the KQL
field for autocompletion.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/agent-tags.png" alt="Agents list filtered to show agents with the staging tag">
</div>
</div>
<p>If you haven&#8217;t applied tags to any Elastic Agents yet, the list will be empty.</p>
<h5><a id="apply-tags"></a>Apply tags to Elastic Agents<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/ingest-management/fleet/filter-agent-list-by-tags.asciidoc">edit</a></h5>
<p>To apply tags, specify a comma-separated list of tags when you install or enroll
Elastic Agent in Fleet. If the agent is already enrolled in Fleet, you must
unenroll the agent, then re-enroll it to apply tags.</p>
<p>The following command applies the <code class="literal">macOS</code> and <code class="literal">staging</code> tags during
installation:</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">sudo ./elastic-agent install \
  --url=&lt;Fleet Server host URL&gt; \
  --enrollment-token=&lt;enrollment token&gt; \
  --tag macOS,staging</pre>
</div>
<p>For the full command synopsis, refer to <a class="xref" href="elastic-agent-cmd-options.html#elastic-agent-install-command" title="elastic-agent install">elastic-agent install</a> and
<a class="xref" href="elastic-agent-cmd-options.html#elastic-agent-enroll-command" title="elastic-agent enroll">elastic-agent enroll</a>.</p>
<p>The following command applies the <code class="literal">docker</code> and <code class="literal">dev</code> tags to Elastic Agent running in
a Docker container:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">docker run \
  --env FLEET_ENROLL=1 \
  --env FLEET_URL=&lt;Fleet Server host URL&gt; \
  --env FLEET_ENROLLMENT_TOKEN=&lt;enrollment token&gt; \
  --env ELASTIC_AGENT_TAGS=docker,dev
  --rm docker.elastic.co/beats/elastic-agent:8.4.0</pre>
</div>
<p>For more information about running on containers, refer to the guides under
<a class="xref" href="install-elastic-agents-in-containers.html" title="Install Elastic Agents in a containerized environment">Install Elastic Agents in a containerized environment</a>.</p>
<h5><a id="edit-or-remove-tags"></a>Edit or remove tags<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/ingest-management/fleet/filter-agent-list-by-tags.asciidoc">edit</a></h5>
<p>Currently, there is no way to edit or remove existing tags. To change the
tags, you must unenroll Elastic Agent, then re-enroll it using new tags.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="upgrade-elastic-agent.html">« Upgrade Fleet-managed Elastic Agents</a>
</span>
<span class="next">
<a href="view-elastic-agent-status.html">View Elastic Agent status »</a>
</span>
</div>
</div>
</body>
</html>
