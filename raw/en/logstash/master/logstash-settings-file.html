<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>logstash.yml | Logstash Reference [master] | Elastic</title>
<link rel="home" href="index.html" title="Logstash Reference [master]"/>
<link rel="up" href="setup-logstash.html" title="Setting Up and Running Logstash"/>
<link rel="prev" href="config-setting-files.html" title="Logstash Configuration Files"/>
<link rel="next" href="logstash-yml-settings.html" title="Logstash settings"/>
<meta name="DC.type" content="Learn/Docs/Logstash/Reference/master"/>
<meta name="DC.subject" content="Logstash"/>
<meta name="DC.identifier" content="master"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Logstash Reference [master]</a></span>
»
<span class="breadcrumb-link"><a href="setup-logstash.html">Setting Up and Running Logstash</a></span>
»
<span class="breadcrumb-node">logstash.yml</span>
</div>
<div class="navheader">
<span class="prev">
<a href="config-setting-files.html">« Logstash Configuration Files</a>
</span>
<span class="next">
<a href="logstash-yml-settings.html">Logstash settings »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="logstash-settings-file"></a>logstash.yml<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/main/docs/static/settings-file.asciidoc">edit</a></h2>
</div></div></div>
<p>You can set options in the Logstash settings file, <code class="literal">logstash.yml</code>, to control Logstash execution. For example,
you can specify pipeline settings, the location of configuration files, logging options, and other settings.
Most of the settings in the <code class="literal">logstash.yml</code> file are also available as <a class="xref" href="running-logstash-command-line.html#command-line-flags" title="Command-Line Flags">command-line flags</a>
when you run Logstash. Any flags that you set at the command line override the corresponding settings in the
<code class="literal">logstash.yml</code> file.</p>
<p>The <code class="literal">logstash.yml</code> file is written in <a href="http://yaml.org/" class="ulink" target="_top">YAML</a>. Its location varies by platform (see
<a class="xref" href="dir-layout.html" title="Logstash Directory Layout">Logstash Directory Layout</a>). You can specify settings in hierarchical form or use flat keys. For example, to use
hierarchical form to set the pipeline batch size and batch delay, you specify:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">pipeline:
  batch:
    size: 125
    delay: 50</pre>
</div>
<p>To express the same values as flat keys, you specify:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">pipeline.batch.size: 125
pipeline.batch.delay: 50</pre>
</div>
<p>The <code class="literal">logstash.yml</code> file also supports bash-style interpolation of environment variables and
keystore secrets in setting values.</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">pipeline:
  batch:
    size: ${BATCH_SIZE}
    delay: ${BATCH_DELAY:50}
node:
  name: "node_${LS_NODE_NAME}"
path:
   queue: "/tmp/${QUEUE_DIR:queue}"</pre>
</div>
<p>Note that the <code class="literal">${VAR_NAME:default_value}</code> notation is supported, setting a default batch delay
of <code class="literal">50</code> and a default <code class="literal">path.queue</code> of <code class="literal">/tmp/queue</code> in the above example.</p>
<p>Modules may also be specified in the <code class="literal">logstash.yml</code> file. The modules definition will have
this format:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">modules:
  - name: MODULE_NAME1
    var.PLUGIN_TYPE1.PLUGIN_NAME1.KEY1: VALUE
    var.PLUGIN_TYPE1.PLUGIN_NAME1.KEY2: VALUE
    var.PLUGIN_TYPE2.PLUGIN_NAME2.KEY1: VALUE
    var.PLUGIN_TYPE3.PLUGIN_NAME3.KEY1: VALUE
  - name: MODULE_NAME2
    var.PLUGIN_TYPE1.PLUGIN_NAME1.KEY1: VALUE
    var.PLUGIN_TYPE1.PLUGIN_NAME1.KEY2: VALUE</pre>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>If the <a class="xref" href="running-logstash-command-line.html#command-line-flags" title="Command-Line Flags">command-line flag</a> <code class="literal">--modules</code> is used, any modules defined in the <code class="literal">logstash.yml</code> file will be ignored.</p>
</div>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="config-setting-files.html">« Logstash Configuration Files</a>
</span>
<span class="next">
<a href="logstash-yml-settings.html">Logstash settings »</a>
</span>
</div>
</div>
</body>
</html>
