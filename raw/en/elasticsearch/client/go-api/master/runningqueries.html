<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Running Queries | Elasticsearch Go Client [master] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Go Client [master]"/>
<link rel="up" href="typedapi.html" title="Typed API"/>
<link rel="prev" href="conventions.html" title="Conventions"/>
<link rel="next" href="examples.html" title="Examples"/>
<meta name="DC.type" content="Learn/Docs/Clients/Go/master"/>
<meta name="DC.subject" content="Clients"/>
<meta name="DC.identifier" content="master"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Go Client [master]</a></span>
»
<span class="breadcrumb-link"><a href="typedapi.html">Typed API</a></span>
»
<span class="breadcrumb-node">Running Queries</span>
</div>
<div class="navheader">
<span class="prev">
<a href="conventions.html">« Conventions</a>
</span>
<span class="next">
<a href="examples.html">Examples »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="runningqueries"></a>Running Queries<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/go-elasticsearch/edit/main/.doc/typedapi/queries.asciidoc">edit</a></h2>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_request_structures"></a>Request structures<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/go-elasticsearch/edit/main/.doc/typedapi/queries.asciidoc">edit</a></h3>
</div></div></div>
<p>Each endpoint comes  with a Request type that represents the body of its request.
For example, a simple search request for a term "Foo" in the <code class="literal">name</code> field could be written like this:</p>
<div class="pre_wrapper lang-go">
<pre class="programlisting prettyprint lang-go">search.Request{
    Query: &amp;types.QueryContainer{
        Term: map[types.Field]types.TermQuery{
            "name": {Value: "Foo"},
        },
    },
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_query_builder"></a>Query Builder<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/go-elasticsearch/edit/main/.doc/typedapi/queries.asciidoc">edit</a></h3>
</div></div></div>
<p>Although the structure syntax is lightweight, the types will sometimes lead you to pointers of string or even type aliases which ultimately are interfaces.
For all those occasions as well as discoverability, we provide for the entire API a builder for each type; the request above can be written like this:</p>
<div class="pre_wrapper lang-go">
<pre class="programlisting prettyprint lang-go">ss := search.NewRequest().
    Query(
        types.NewQueryContainer().
            Term(map[types.Field]types.TermQuery{
                "name": types.NewTermQuery().Value("Foo").Build(),
            }).
            Build()).
    Build()</pre>
</div>
<p>The builders are designed to take value arguments for easier inline use, you can mix at will the structures and the builder as you see fit depending on your usage.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_raw_json"></a>Raw JSON<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/go-elasticsearch/edit/main/.doc/typedapi/queries.asciidoc">edit</a></h3>
</div></div></div>
<p>Lastly if you want to use your own pre-baked JSON queries using templates or even a specific encoder, you can pass the body directly to the <code class="literal">Raw</code> method of the endpoint:</p>
<div class="pre_wrapper lang-go">
<pre class="programlisting prettyprint lang-go">es.Search().Raw([]byte(`{
  "query": {
    "term": {
      "user.id": {
        "value": "kimchy",
        "boost": 1.0
      }
    }
  }
}`))</pre>
</div>
<p>No further validation or serialization is done on what is sent through this method, setting a payload with this takes precedence over any request structure you may submit before running the query.</p>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="conventions.html">« Conventions</a>
</span>
<span class="next">
<a href="examples.html">Examples »</a>
</span>
</div>
</div>
</body>
</html>
